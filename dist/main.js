(()=>{"use strict";var e={en:["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","&#11014;","Shift","Ctrl","Win","Alt"," ","Alt","&#11013;","&#11015;","&#10145;","Ctrl"],enShift:["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","{","}","|","Del","CapsLock","a","s","d","f","g","h","j","k","l",":",'"',"Enter","Shift","z","x","c","v","b","n","m","<",">","?","&#11014;","Shift","Ctrl","Win","Alt"," ","Alt","&#11013;","&#11015;","&#10145;","Ctrl"],ru:["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Del","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","&#11014;","Shift","Ctrl","Win","Alt"," ","Alt","&#11013;","&#11015;","&#10145;","Ctrl"],ruSHift:["ё","!",'"',"№",";","%",":","?","*","(",")","_","+","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","/","Del","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",",","&#11014;","Shift","Ctrl","Win","Alt"," ","Alt","&#11013;","&#11015;","&#10145;","Ctrl"]},t={keys:["Backquote","1","2","3","4","5","6","7","8","9","0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","NumpadDivide","ArrowUp","ShiftRight","ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"]};function n(e){e.forEach((function(e){"CapsLock"!=e.getAttribute("data-code")&&e.classList.remove("keyboard__key-active")}))}!function(n){var r=document.createElement("h1");r.className="mainTitle",r.innerHTML="Virtual Keyboard",document.body.append(r);var a=document.createElement("div");a.className="app-keyboard",document.body.append(a);var i=document.createElement("textarea");i.className="keyboard-Screen",i.setAttribute("name","screen"),i.setAttribute("rows",15),i.setAttribute("cols",80),i.setAttribute("disabled","disabled"),a.append(i);var o=document.createElement("div");o.className="keyboard",a.append(o);for(var c=1;c<=5;c++){var d=document.createElement("div");d.className="keyboard_line",o.append(d);var L=void 0;1==c?L=14:2==c?L=15:3==c||4==c?L=13:5==c&&(L=9);for(var s=0;s<L;s++){var u=document.createElement("div");u.className="keyboard__key",d.append(u)}}var l=document.querySelectorAll(".keyboard__key");l.forEach((function(e,n){e.setAttribute("data-code","".concat(t.keys[n]))}));var f=document.createElement("p");f.className="text-lang",f.innerHTML="To switch the language combination: left ctrl + alt",document.body.append(f),"ru"==n?l.forEach((function(t,n){t.innerHTML=e.ru[n]})):l.forEach((function(t,n){t.innerHTML=e.en[n]}))}(localStorage.getItem("lang"));var r=document.querySelector(".keyboard"),a=document.querySelector(".keyboard-Screen"),i=document.querySelectorAll(".keyboard__key");r.addEventListener("mousedown",(function(t){!function(t,n){var r=document.querySelectorAll(".keyboard__key");function a(e){return/[a-zA-Z]/.test(e)}function i(e){return/[а-яA-Я]/.test(e)}t.classList.contains("keyboard__key")&&("CapsLock"==t.getAttribute("data-code")?(t.classList.toggle("keyboard__key-active"),"q"==r[15].innerHTML||"й"==r[15].innerHTML?r.forEach((function(e){var t=e.innerHTML;1==a(e)&&1==t.length&&(e.innerHTML=t.toUpperCase())})):r.forEach((function(e){var t=e.innerHTML;1==a(e)&&1==t.length&&(e.innerHTML=t.toLowerCase())}))):"ShiftLeft"==t.getAttribute("data-code")||"ShiftRight"==t.getAttribute("data-code")?(t.classList.add("keyboard__key-active"),"q"===r[15].innerHTML?r.forEach((function(t,n){t.innerHTML=e.enShift[n];var r=t.innerHTML;1==a(t)&&1==r.length&&(t.innerHTML=r.toUpperCase())})):"Q"===r[15].innerHTML?r.forEach((function(t,n){t.innerHTML=e.enShift[n];var r=t.innerHTML;1==a(t)&&1==r.length&&(t.innerHTML=r.toLowerCase())})):"й"===r[15].innerHTML?r.forEach((function(t,n){t.innerHTML=e.ruSHift[n];var r=t.innerHTML;1==i(t)&&1==r.length&&(t.innerHTML=r.toUpperCase())})):"Й"===r[15].innerHTML&&r.forEach((function(t,n){t.innerHTML=e.ru[n];var r=t.innerHTML;1==i(t)&&1==r.length&&(t.innerHTML=r.toLowerCase())}))):"Tab"==t.getAttribute("data-code")?t.classList.add("keyboard__key-active"):"Backspace"==t.getAttribute("data-code")?(t.classList.add("keyboard__key-active"),n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-1)):"Delete"==t.getAttribute("data-code")?(t.classList.add("keyboard__key-active"),n.innerHTML=""):"ControlLeft"==t.getAttribute("data-code")||"ControlRight"==t.getAttribute("data-code")||"AltLeft"==t.getAttribute("data-code")||"AltRight"==t.getAttribute("data-code")||"MetaLeft"==t.getAttribute("data-code")?t.classList.add("keyboard__key-active"):"Space"==t.getAttribute("data-code")?(t.classList.add("keyboard__key-active"),n.innerHTML=n.innerHTML+" "):"Enter"==t.getAttribute("data-code")?(t.classList.add("keyboard__key-active"),n.innerHTML="".concat(n.innerHTML," \n")):(t.classList.add("keyboard__key-active"),n.innerHTML+=t.innerHTML))}(t.target,a)})),r.addEventListener("mouseup",(function(t){!function(t){var n=document.querySelectorAll(".keyboard__key");function r(e){return/[a-zA-Z]/.test(e)}function a(e){return/[а-яA-Я]/.test(e)}"ShiftLeft"!=t.target.getAttribute("data-code")&&"ShiftRight"!=t.target.getAttribute("data-code")||("q"===n[15].innerHTML?n.forEach((function(t,n){t.innerHTML=e.enShift[n];var a=t.innerHTML;1==r(t)&&1==a.length&&(t.innerHTML=a.toUpperCase())})):"Q"===n[15].innerHTML?n.forEach((function(t,n){t.innerHTML=e.enShift[n];var a=t.innerHTML;1==r(t)&&1==a.length&&(t.innerHTML=a.toLowerCase())})):"й"===n[15].innerHTML?(console.log("d"),n.forEach((function(t,n){t.innerHTML=e.ruSHift[n];var r=t.innerHTML;1==a(t)&&1==r.length&&(t.innerHTML=r.toUpperCase())}))):"Й"===n[15].innerHTML&&n.forEach((function(t,n){t.innerHTML=e.ru[n];var r=t.innerHTML;1==a(t)&&1==r.length&&(t.innerHTML=r.toLowerCase())})))}(t),n(i)}));var o=[];document.addEventListener("keydown",(function(t){"ControlLeft"==t.code||"AltLeft"==t.code?o.push(1):o.length=[],2==o.length&&function(t,n,r){"q"==t?n.forEach((function(t,n){t.innerHTML=e.ru[n]})):"Q"==t?n.forEach((function(t,n){var r=t.innerHTML;1==/[a-zA-Z]/.test(t)&&1==r.length?t.innerHTML=e.ru[n].toUpperCase():t.innerHTML=e.ru[n]})):"й"==t?n.forEach((function(t,n){t.innerHTML=e.en[n]})):"Й"==t&&n.forEach((function(t,n){var r=t.innerHTML;1==/[а-яA-Я]/.test(t)&&1==r.length?t.innerHTML=e.en[n].toUpperCase():t.innerHTML=e.en[n]})),r.length=[]}([i[15].innerHTML],i,o),function(t,n){var r=document.querySelectorAll(".keyboard__key");function a(e){return/[а-яA-Я]/.test(e)}function i(e){return/[a-zA-Z]/.test(e)}r.forEach((function(o){o.getAttribute("data-code")==t&&"Backspace"==t?(o.classList.add("keyboard__key-active"),n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-1)):o.getAttribute("data-code")==t&&"CapsLock"==t?(o.classList.toggle("keyboard__key-active"),"q"==r[15].innerHTML||"й"==r[15].innerHTML?r.forEach((function(e){var t=e.innerHTML;1==i(e)&&1==t.length&&(e.innerHTML=t.toUpperCase())})):r.forEach((function(e){var t=e.innerHTML;1==i(e)&&1==t.length&&(e.innerHTML=t.toLowerCase())}))):o.getAttribute("data-code")==t&&"ShiftLeft"==t||o.getAttribute("data-code")==t&&"ShiftRight"==t?(o.classList.add("keyboard__key-active"),"q"===r[15].innerHTML?r.forEach((function(t,n){t.innerHTML=e.enShift[n];var r=t.innerHTML;1==i(t)&&1==r.length&&(t.innerHTML=r.toUpperCase())})):"Q"===r[15].innerHTML?r.forEach((function(t,n){t.innerHTML=e.enShift[n];var r=t.innerHTML;1==i(t)&&1==r.length&&(t.innerHTML=r.toLowerCase())})):"й"===r[15].innerHTML?r.forEach((function(t,n){t.innerHTML=e.ruSHift[n];var r=t.innerHTML;1==a(t)&&1==r.length&&(t.innerHTML=r.toUpperCase())})):"Й"===r[15].innerHTML&&r.forEach((function(t,n){t.innerHTML=e.ru[n];var r=t.innerHTML;1==a(t)&&1==r.length&&(t.innerHTML=r.toLowerCase())}))):o.getAttribute("data-code")==t&&"Tab"==t?o.classList.add("keyboard__key-active"):o.getAttribute("data-code")==t&&"Delete"==t?(o.classList.add("keyboard__key-active"),n.innerHTML=""):o.getAttribute("data-code")==t&&"ControlLeft"==t||o.getAttribute("data-code")==t&&"ControlRight"==t||o.getAttribute("data-code")==t&&"AltLeft"==t||o.getAttribute("data-code")==t&&"AltRight"==t||o.getAttribute("data-code")==t&&"MetaLeft"==t?o.classList.add("keyboard__key-active"):o.getAttribute("data-code")==t&&"Space"==t?(o.classList.add("keyboard__key-active"),n.innerHTML=n.innerHTML+" "):o.getAttribute("data-code")==t&&"Enter"==t?(o.classList.add("keyboard__key-active"),n.innerHTML="".concat(n.innerHTML," \n")):o.getAttribute("data-code")==t&&(o.classList.add("keyboard__key-active"),n.innerHTML+=o.innerHTML)}))}(t.code,a)})),document.addEventListener("keyup",(function(t){!function(t){var n=document.querySelectorAll(".keyboard__key");function r(e){return/[a-zA-Z]/.test(e)}function a(e){return/[а-яA-Я]/.test(e)}"ShiftLeft"!=t&&"ShiftRight"!=t||("q"===n[15].innerHTML?n.forEach((function(t,n){t.innerHTML=e.enShift[n];var a=t.innerHTML;1==r(t)&&1==a.length&&(t.innerHTML=a.toUpperCase())})):"Q"===n[15].innerHTML?n.forEach((function(t,n){t.innerHTML=e.enShift[n];var a=t.innerHTML;1==r(t)&&1==a.length&&(t.innerHTML=a.toLowerCase())})):"й"===n[15].innerHTML?n.forEach((function(t,n){t.innerHTML=e.ruSHift[n];var r=t.innerHTML;1==a(t)&&1==r.length&&(t.innerHTML=r.toUpperCase())})):"Й"===n[15].innerHTML&&n.forEach((function(t,n){t.innerHTML=e.ru[n];var r=t.innerHTML;1==a(t)&&1==r.length&&(t.innerHTML=r.toLowerCase())})))}(t.code),n(i)})),window.addEventListener("beforeunload",(function(){localStorage.setItem("lang","Q"==i[15].innerHTML||"q"==i[15].innerHTML?"en":"ru")}))})();